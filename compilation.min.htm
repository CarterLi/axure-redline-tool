<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">
<div class="redline-layer hover-layer" id="t-hover"></div>
<div class="redline-layer hover-layer" id="r-hover"></div>
<div class="redline-layer hover-layer" id="b-hover"></div>
<div class="redline-layer hover-layer" id="l-hover"></div>
<div class="redline-layer hover-o-layer" id="to-hover"></div>
<div class="redline-layer hover-o-layer" id="ro-hover"></div>
<div class="redline-layer hover-o-layer" id="bo-hover"></div>
<div class="redline-layer hover-o-layer" id="lo-hover"></div>
<div class="redline-layer select-layer" id="t-select"></div>
<div class="redline-layer select-layer" id="r-select"></div>
<div class="redline-layer select-layer" id="b-select"></div>
<div class="redline-layer select-layer" id="l-select"></div>
<div class="redline-layer dimension-layer" id="t-dimension"><span class="redline-layer"></span></div>
<div class="redline-layer dimension-layer" id="r-dimension"><span class="redline-layer"></span></div>
<div class="redline-layer dimension-layer" id="b-dimension"><span class="redline-layer"></span></div>
<div class="redline-layer dimension-layer" id="l-dimension"><span class="redline-layer"></span></div>
<div class="redline-layer measure-layer" id="t-measure"></div>
<div class="redline-layer measure-layer" id="r-measure"></div>
<div class="redline-layer measure-layer" id="b-measure"></div>
<div class="redline-layer measure-layer" id="l-measure"></div>
<div class="redline-layer" id="redline-panel">
<div class="redline-layer" id="redline-panel-menu">
<div class="redline-layer">
<div class="redline-layer"></div>
<div class="redline-layer"></div>
<div class="redline-layer"></div>
</div>
</div>
</div>
<style>.redline-layer{font-family:Lato,sans-serif}#redline-panel{position:fixed;z-index:99999;top:0;left:calc(100% - 5px);overflow-x:visible;width:250px;height:calc(100% - 40px);padding:20px;transition:all .1s ease-in-out;color:#fff;background-color:rgba(51,51,51,.9)}.redline-panel-exposed{transform:translateX(-285px)}#redline-panel-menu{position:absolute;top:20px;left:0;width:20px;height:40px;transform:translateX(-20px);border-top-left-radius:20px;border-bottom-left-radius:20px;background-color:inherit;display:flex;justify-content:center;align-items:center;cursor:pointer}#redline-panel-menu>div>div{width:12px;height:2px;margin:3px 0 3px 5px;background-color:#fff}#redline-panel,#redline-panel input,#redline-panel textarea{font-size:12px}.redline-panel-section{margin-top:20px}#redline-panel p{margin-bottom:0}#redline-panel input,#redline-panel textarea{width:calc(100% - 12px);margin-top:0;padding:4px 5px;cursor:text;opacity:.5;border:solid 1px #fff;border-radius:3px}#redline-panel textarea{height:50px;resize:none}.dimension-layer,.hover-layer,.hover-o-layer,.measure-layer,.select-layer{position:absolute;display:none;width:0;height:0}.hover-layer{z-index:9997;border:solid 1px #4860ff;border-right:none;border-bottom:none}.hover-o-layer{z-index:9996;border:dashed 1px #4860ff;border-right:none;border-bottom:none}.select-layer{z-index:9998;border:solid 1px #e89a28;border-right:none;border-bottom:none}.dimension-layer{font-size:10px;font-weight:700;z-index:9999;display:flex;min-width:30px;min-height:20px;padding:0;letter-spacing:1px;color:#fff;border-radius:5px;background-color:#e89a28;justify-content:center;align-items:center}.measure-layer{z-index:9995;border:solid 1px #e89a28;border-right:none;border-bottom:none}</style>
<script>function isRedlineElement(e){return"-1"!=(void 0===e.attr("class")?"":e.attr("class")).indexOf("redline-layer")}function highlightHoverElement(){elemMeas.width=hoveredElement.outerWidth(),elemMeas.height=hoveredElement.outerHeight(),elemMeas.offsetTop=hoveredElement.offset().top,elemMeas.offsetLeft=hoveredElement.offset().left,console.log(elemMeas),$(".hover-layer").show(),$(".hover-o-layer").show(),$("#t-hover").width(elemMeas.width+borderThickness),$("#b-hover").width(elemMeas.width),$("#r-hover").height(elemMeas.height),$("#l-hover").height(elemMeas.height),$("#t-hover").offset({top:elemMeas.offsetTop-borderThickness,left:elemMeas.offsetLeft-borderThickness}),$("#b-hover").offset({top:elemMeas.offsetTop+elemMeas.height,left:elemMeas.offsetLeft-borderThickness}),$("#r-hover").offset({top:elemMeas.offsetTop,left:elemMeas.offsetLeft+elemMeas.width}),$("#l-hover").offset({top:elemMeas.offsetTop,left:elemMeas.offsetLeft-borderThickness}),$("#to-hover").width($(window).innerWidth()-2*borderThickness),$("#bo-hover").width($(window).innerWidth()-2*borderThickness),$("#ro-hover").height($(window).innerHeight()-2*borderThickness),$("#lo-hover").height($(window).innerHeight()-2*borderThickness),$("#to-hover").offset({top:elemMeas.offsetTop-borderThickness,left:0}),$("#bo-hover").offset({top:elemMeas.offsetTop+elemMeas.height,left:0}),$("#ro-hover").offset({top:0,left:elemMeas.offsetLeft+elemMeas.width}),$("#lo-hover").offset({top:0,left:elemMeas.offsetLeft-borderThickness})}function highlightSelectElement(){elemSelectMeas.width=selectedElement.outerWidth(),elemSelectMeas.height=selectedElement.outerHeight(),elemSelectMeas.offsetTop=selectedElement.offset().top,elemSelectMeas.offsetLeft=selectedElement.offset().left,console.log(elemSelectMeas),$(".select-layer").show(),$("#t-select").width(elemSelectMeas.width+borderThickness),$("#b-select").width(elemSelectMeas.width),$("#r-select").height(elemSelectMeas.height),$("#l-select").height(elemSelectMeas.height),$("#t-select").offset({top:elemSelectMeas.offsetTop-borderThickness,left:elemSelectMeas.offsetLeft-borderThickness}),$("#b-select").offset({top:elemSelectMeas.offsetTop+elemSelectMeas.height,left:elemSelectMeas.offsetLeft-borderThickness}),$("#r-select").offset({top:elemSelectMeas.offsetTop,left:elemSelectMeas.offsetLeft+elemSelectMeas.width}),$("#l-select").offset({top:elemSelectMeas.offsetTop,left:elemSelectMeas.offsetLeft-borderThickness}),$("#t-dimension").show(),$("#r-dimension").show(),$("#t-dimension > span").show(),$("#r-dimension > span").show(),dimensionMarkerWidth=$(".dimension-layer").width(),dimensionMarkerHeight=$(".dimension-layer").height(),$("#t-dimension > span").text(Math.round(elemSelectMeas.width)),$("#r-dimension > span").text(Math.round(elemSelectMeas.height)),$("#t-dimension").offset({top:elemSelectMeas.offsetTop-dimensionMarkerHeight-labelSpacing,left:elemSelectMeas.offsetLeft+elemSelectMeas.width/2-dimensionMarkerWidth/2}),$("#r-dimension").offset({top:elemSelectMeas.offsetTop+elemSelectMeas.height/2-dimensionMarkerHeight/2,left:elemSelectMeas.offsetLeft+elemSelectMeas.width+labelSpacing})}function measureIntraElementDistance(){$.each(intraElemMeas,function(e,t){intraElemMeas[e]=0}),elemMeas.offsetTop>elemSelectMeas.offsetTop+elemSelectMeas.height?intraElemMeas.bottom=Math.abs(elemSelectMeas.offsetTop+elemSelectMeas.height-elemMeas.offsetTop):elemSelectMeas.offsetTop>elemMeas.offsetTop+elemMeas.height?intraElemMeas.top=Math.abs(elemMeas.offsetTop+elemMeas.height-elemSelectMeas.offsetTop):elemSelectMeas.offsetTop>elemMeas.offsetTop&&elemSelectMeas.offsetTop+elemSelectMeas.height>elemMeas.offsetTop+elemMeas.height?intraElemMeas.top=Math.abs(elemMeas.offsetTop-elemSelectMeas.offsetTop):elemSelectMeas.offsetTop<elemMeas.offsetTop&&elemSelectMeas.offsetTop+elemSelectMeas.height<elemMeas.offsetTop+elemMeas.height?intraElemMeas.bottom=Math.abs(elemMeas.offsetTop+elemMeas.height-(elemSelectMeas.offsetTop+elemSelectMeas.height)):(intraElemMeas.top=elemSelectMeas.offsetTop-elemMeas.offsetTop,intraElemMeas.bottom=elemMeas.offsetTop+elemMeas.height-(elemSelectMeas.offsetTop+elemSelectMeas.height)),elemSelectMeas.offsetLeft>elemMeas.offsetLeft+elemMeas.width?intraElemMeas.left=Math.abs(elemMeas.offsetLeft+elemMeas.width-elemSelectMeas.offsetLeft):elemMeas.offsetLeft>elemSelectMeas.offsetLeft+elemSelectMeas.width?intraElemMeas.right=Math.abs(elemSelectMeas.offsetLeft+elemSelectMeas.width-elemMeas.offsetLeft):elemSelectMeas.offsetLeft>elemMeas.offsetLeft&&elemSelectMeas.offsetLeft+elemSelectMeas.width>elemMeas.offsetLeft+elemMeas.width?intraElemMeas.left=Math.abs(elemMeas.offsetLeft-elemSelectMeas.offsetLeft):elemSelectMeas.offsetLeft<elemMeas.offsetLeft&&elemSelectMeas.offsetLeft+elemSelectMeas.width<elemMeas.offsetLeft+elemMeas.width?intraElemMeas.right=Math.abs(elemMeas.offsetLeft+elemMeas.width-(elemSelectMeas.offsetLeft+elemSelectMeas.width)):(intraElemMeas.left=elemSelectMeas.offsetLeft-elemMeas.offsetLeft,intraElemMeas.right=elemMeas.offsetLeft+elemMeas.width-(elemSelectMeas.offsetLeft+elemSelectMeas.width))}function drawIntraElementMarkers(){dimensionMarkerWidth=$(".dimension-layer").width(),dimensionMarkerHeight=$(".dimension-layer").height(),0!=intraElemMeas.top&&($("#t-measure").show(),$("#t-measure").height(Math.abs(intraElemMeas.top)-borderThickness),intraElemMeas.top>0?$("#t-measure").offset({top:elemSelectMeas.offsetTop-intraElemMeas.top,left:elemSelectMeas.offsetLeft+elemSelectMeas.width/2}):$("#t-measure").offset({top:elemSelectMeas.offsetTop,left:elemSelectMeas.offsetLeft+elemSelectMeas.width/2}),$("#t-dimension").show(),$("#t-dimension > span").show(),$("#t-dimension > span").text(Math.round(Math.abs(intraElemMeas.top))),$("#t-dimension").offset({top:elemSelectMeas.offsetTop-intraElemMeas.top/2-dimensionMarkerHeight/2,left:elemSelectMeas.offsetLeft+elemSelectMeas.width/2+labelSpacing})),0!=intraElemMeas.right&&($("#r-measure").show(),$("#r-measure").width(Math.abs(intraElemMeas.right)-borderThickness),intraElemMeas.right>0?$("#r-measure").offset({top:elemSelectMeas.offsetTop+elemSelectMeas.height/2,left:elemSelectMeas.offsetLeft+elemSelectMeas.width}):$("#r-measure").offset({top:elemSelectMeas.offsetTop+elemSelectMeas.height/2,left:elemSelectMeas.offsetLeft+elemSelectMeas.width+intraElemMeas.right}),$("#r-dimension").show(),$("#r-dimension > span").show(),$("#r-dimension > span").text(Math.round(Math.abs(intraElemMeas.right))),$("#r-dimension").offset({top:elemSelectMeas.offsetTop+elemSelectMeas.height/2-dimensionMarkerHeight-labelSpacing,left:elemSelectMeas.offsetLeft+elemSelectMeas.width+intraElemMeas.right/2-dimensionMarkerWidth/2})),0!=intraElemMeas.bottom&&($("#b-measure").show(),$("#b-measure").height(Math.abs(intraElemMeas.bottom)-borderThickness),intraElemMeas.bottom>0?$("#b-measure").offset({top:elemSelectMeas.offsetTop+elemSelectMeas.height,left:elemSelectMeas.offsetLeft+elemSelectMeas.width/2}):$("#b-measure").offset({top:elemSelectMeas.offsetTop+elemSelectMeas.height+intraElemMeas.bottom,left:elemSelectMeas.offsetLeft+elemSelectMeas.width/2}),$("#b-dimension").show(),$("#b-dimension > span").show(),$("#b-dimension > span").text(Math.round(Math.abs(intraElemMeas.bottom))),$("#b-dimension").offset({top:elemSelectMeas.offsetTop+elemSelectMeas.height+intraElemMeas.bottom/2-dimensionMarkerHeight/2,left:elemSelectMeas.offsetLeft+elemSelectMeas.width/2+labelSpacing})),0!=intraElemMeas.left&&($("#l-measure").show(),$("#l-measure").width(Math.abs(intraElemMeas.left)-borderThickness),intraElemMeas.left>0?$("#l-measure").offset({top:elemSelectMeas.offsetTop+elemSelectMeas.height/2,left:elemSelectMeas.offsetLeft-intraElemMeas.left}):$("#l-measure").offset({top:elemSelectMeas.offsetTop+elemSelectMeas.height/2,left:elemSelectMeas.offsetLeft}),$("#l-dimension").show(),$("#l-dimension > span").show(),$("#l-dimension > span").text(Math.round(Math.abs(intraElemMeas.left))),$("#l-dimension").offset({top:elemSelectMeas.offsetTop+elemSelectMeas.height/2-dimensionMarkerHeight-labelSpacing,left:elemSelectMeas.offsetLeft-intraElemMeas.left/2-dimensionMarkerWidth/2}))}function updateRedlinePanel(e){$.each(cssProperties,function(t,s){$.each(cssProperties[t],function(s,l){cssProperties[t][s]="_content"==s?e.text().trim():e.css(s)})}),console.log(cssProperties),clearRedlinePanel(),appendRedlinePanel(),$("#redline-panel").addClass("redline-panel-exposed")}function appendRedlinePanel(){$.each(cssProperties,function(e,t){$("#redline-panel").append('<div class="redline-layer redline-panel-section"></div>'),$(".redline-panel-section:last").append('<b class="redline-layer"><p class="redline-layer">'+e.toUpperCase()+"</p></b>"),$.each(cssProperties[e],function(e,t){""!=t&&"none"!=t&&"0px"!=t&&($(".redline-panel-section:last").append('<p class="redline-layer">'+e.replace("_","").replace("-top-","-").replace("-left-","-")+":</p>"),"_content"!=e?$(".redline-panel-section:last").append('<input class="redline-layer" value="'+t+'" readonly="readonly"></input>'):($(".redline-panel-section:last").append('<textarea class="redline-layer" readonly="readonly"></textarea>'),$(".redline-panel-section textarea").text(t)))}),$(".redline-panel-section:last p").length<=1&&$(".redline-panel-section:last").remove()}),""==cssProperties.text._content&&$('p:contains("TEXT")').parent().parent().remove(),"0px"==cssProperties.styles["border-top-width"]&&($('p:contains("border-color")').next().remove(),$('p:contains("border-color")').remove())}function clearRedline(){$(".hover-layer").hide(),$(".hover-o-layer").hide(),$(".dimension-layer").hide(),$(".measure-layer").hide()}function closeRedline(){clearRedline(),$(".select-layer").hide(),$("#redline-panel").removeClass("redline-panel-exposed"),clearRedlinePanel()}function clearRedlinePanel(){$("#redline-panel > *").not("div:first").remove()}function findDeepestChild(e){for(var t=e;t.children().length;)t=t.children();return t}var borderThickness=1,labelSpacing=5,hoveredElement="",selectedElement="",elemMeas={width:0,height:0,offsetTop:0,offsetLeft:0},elemSelectMeas={width:0,height:0,offsetTop:0,offsetLeft:0},intraElemMeas={top:0,right:0,bottom:0,left:0},redlineClass,dimensionMarkerWidth=0,dimensionMarkerHeight=0,cssProperties={properties:{width:"",height:""},styles:{"background-color":"",opacity:"","border-top-width":"","border-top-style":"","border-top-color":"","border-top-left-radius":"","box-shadow":""},text:{"font-family":"","font-size":"","font-weight":"","line-height":"","text-align":"",color:"",_content:""}};$(document).ready(function(){$(".redline-layer").hide(),$("#redline-panel").show(),$("#redline-panel *").show(),$("#base").on("mouseenter","*",function(){isRedlineElement(hoveredElement=$(this))||(highlightHoverElement(),hoveredElement[0]==selectedElement[0]?highlightSelectElement():""!=selectedElement&&(measureIntraElementDistance(),drawIntraElementMarkers(),console.log(intraElemMeas)))}),$("#base").on("mouseleave","*",function(){clearRedline()}),$("#base").on("click","*",function(){isRedlineElement(selectedElement=$(this))||(console.log(selectedElement.attr("id")),selectedElement=findDeepestChild(selectedElement),clearRedline(),highlightSelectElement(),updateRedlinePanel(selectedElement))}),$("#redline-panel").on("click","#redline-panel-menu",function(){$("#redline-panel").toggleClass("redline-panel-exposed")}),$("body").on("click",function(e){e.target===this&&closeRedline()}),$("#base").on("mouseup","#redline-panel input",function(){$(this).select()}),$("#base").on("mouseup","#redline-panel textarea",function(){$(this).select()})})</script>
